(this["webpackJsonpcrypto-app"]=this["webpackJsonpcrypto-app"]||[]).push([[0],{112:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),i=n(29),l=(n(90),n(12)),s=n(14),u=n.n(s),m=n(22),p=n(17),f=n(71),d=n.n(f).a,g=function(e){return d.get("/crypto/getsinglecoin",{params:{id:e}})};g("btc-bitcoin");var v={insertCrypto:function(e){return d.post("/crypto/selected",{coinId:e})},getSearchList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"empty";return d.get("/crypto/search/".concat(e))},getUser:function(){return d.get("/auth/user")},getSelectedCoins:function(){return d.get("crypto/getCoins")},removeCrypto:function(e){return d.post("/crypto/remove",{coinId:e})},logout:function(){return d.get("/auth/logout")},getSingleCoin:g},E=r.a.createContext(),h=function(e){var t=Object(a.useState)({loggedIn:!1,userName:void 0,userImg:void 0}),n=Object(p.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getUser();case 2:(t=e.sent.data)&&o(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c.loggedIn]),r.a.createElement(E.Provider,{value:{user:c,setUser:o}},e.children)},b=n(43),C=n(48),y=n(162),x=n(166),N=n(170),O=n(165),_=n(164),w=n(172),S=n(171),j=n(159),k=(n(112),Object(j.a)((function(e){return{root:{display:"flex",alignItems:"center"},paper:{marginRight:e.spacing(2)},btn:{color:"#fff",border:"1px solid #fff",textTransform:"lowercase",fontSize:"1.4rem",width:"10rem"},menuList:{display:"flex",alignItems:"stretch",flexDirection:"column",width:"10rem",backgroundColor:"#eee"},menuItem:{fontSize:"1.4rem",padding:"2px 1rem"}}})));var I=function(){var e=Object(a.useContext)(E).user,t=e.loggedIn,n=e.username,c=e.profileImg,o=Object(l.f)(),s=k(),f=r.a.useState(!1),d=Object(p.a)(f,2),g=d[0],h=d[1],j=r.a.useRef(null),I=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("logout-btn"!==t.target.id){e.next=5;break}return e.next=3,v.logout();case 3:o.push("/"),window.location.reload();case 5:h(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function D(e){"Tab"===e.key&&(e.preventDefault(),h(!1))}var F=r.a.useRef(g);return r.a.useEffect((function(){!0===F.current&&!1===g&&j.current&&j.current.focus(),F.current=g}),[g]),r.a.createElement("div",{className:"Navbar"},r.a.createElement(i.b,{to:"/"},r.a.createElement("h1",{className:"Navbar_title"},"\u06a9\u0631\u06cc\u067e\u062a\u0648 \u06cc\u0627\u0631")),r.a.createElement("div",{className:"Navbar_profile"},t?r.a.createElement("div",{className:s.root},r.a.createElement("img",{src:c,className:"profile_img",alt:"user "}),r.a.createElement("div",null,r.a.createElement(y.a,{ref:j,"aria-controls":g?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){h((function(e){return!e}))},className:s.btn},r.a.createElement("p",null,n," \u25bc")),r.a.createElement(_.a,{open:g,anchorEl:j.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,n=e.placement;return r.a.createElement(N.a,Object.assign({},t,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(O.a,null,r.a.createElement(x.a,{onClickAway:I},r.a.createElement(S.a,{autoFocusItem:g,id:"menu-list-grow",onKeyDown:D,className:s.menuList},r.a.createElement(w.a,{className:s.menuItem,onClick:I},"Account"),r.a.createElement(w.a,{className:s.menuItem,onClick:I,id:"logout-btn"},"Log out")))))})))):r.a.createElement("button",{onClick:function(){return window.open("/auth/google","_self")},className:"profile_login_btn"},r.a.createElement(b.a,{icon:C.a,className:"singinalt_icon login_icon"}),"Log In / Sing Up")))},D=n(55),F=function(e){for(var t="",n=e.toString();3<n.length;){t=",".concat(n.slice(-3))+t,n=n.substring(0,n.length-3)}return t="".concat(n).concat(t)},A=n(169),B=n(49),U=n.n(B);n(118);var L=function(e){var t=e.name,n=e.rank,c=e.symbol,o=e.quotes,l=e.id,s=e.removeCoin,u=Object(a.useState)(!0),m=Object(p.a)(u,2),f=m[0],d=m[1],g=o.USD,v=g.price,E=g.volume_24h,h=g.percent_change_24h,y=parseFloat(v).toFixed(2),x=F(parseInt(E));return r.a.createElement(A.a,{in:f,timeout:1e3,classNames:"sample"},r.a.createElement("div",{className:"SingleCoin_wrraper"},r.a.createElement(i.b,{exact:"true",to:"/singlecoin/".concat(l)},r.a.createElement("div",{className:"SingleCoin"},r.a.createElement("div",{className:"SingleCoin_texts"},r.a.createElement("div",{className:"SingleCoin_name"},r.a.createElement("p",null,t),r.a.createElement("span",null," \u0631\u0646\u06a9 : ",n),r.a.createElement("p",null,c," :\u0646\u0645\u0627\u062f ")),r.a.createElement("div",{className:"SingleCoin_price"},r.a.createElement("span",null,"\u0642\u06cc\u0645\u062a \u0645\u062a\u0648\u0633\u0637: ",y),r.a.createElement("span",{className:"price_change"},"(24h)\u062a\u063a\u06cc\u06cc\u0631 \u0642\u06cc\u0645\u062a :",r.a.createElement("span",{className:"price_change--num",style:h>0?{color:"#2BC36F"}:{color:"#F63B45"}},h)),r.a.createElement("span",null,"$\u062d\u062c\u0645 \u0628\u0627\u0632\u0627\u0631 : "," ".concat(x,"  ")," "))),r.a.createElement("div",{className:" SingleCoin_tradingview"},r.a.createElement(U.a,{symbol:"COINBASE:".concat(c,"USD"),autosize:!0,height:"500",style:"2"})))),r.a.createElement("div",{className:"SingleCoin_wrraper_trash",onClick:function(e){e.stopPropagation(),d(!1),setTimeout((function(){s(l)}),300)}},r.a.createElement(b.a,{icon:C.b,className:"trash_icon"}))))};var P=function(e){var t=e.selectedCoins,n=e.removeCoin;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(L,Object.assign({key:e.id,removeCoin:n},e))})))},T=n(167),z=n(168);n(119);var R=function(e){var t=e.addCoin,n=e.searchCoins,c=e.coins,o=Object(a.useState)(""),i=Object(p.a)(o,2),l=i[0],s=i[1];return Object(a.useEffect)((function(){n(l||"empty")}),[l]),r.a.createElement("div",{className:"CryptoAutoComplete"},r.a.createElement(z.a,{noOptionsText:"No labels",onChange:function(e,n){if(e.preventDefault(),n){var a=n.id;t(a)}},renderOption:function(e,t){var n=t.selected;return r.a.createElement("div",{selected:n,id:e.id,className:"CryptoAutoComplete_listItem"},e.name)},options:c.map((function(e){return e})),getOptionLabel:function(e){return e.name},onInputChange:function(e){e.preventDefault(),s(e.target.value)},renderInput:function(e){return r.a.createElement(T.a,Object.assign({},e,{label:"crypto search",variant:"outlined",className:"Autocomplete_input",fullWidth:!0}))}}))},W=r.a.createContext();function $(e){var t=Object(a.useState)([]),n=Object(p.a)(t,2),c=n[0],o=n[1];return r.a.createElement(W.Provider,{value:{selectedCoins:c,setSelectedCoins:o}},e.children)}n(120);var q=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],o=Object(a.useContext)(W),i=o.selectedCoins,l=o.setSelectedCoins,s=Object(a.useContext)(E).user;Object(a.useEffect)((function(){if(s.loggedIn){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getSelectedCoins();case 2:t=e.sent.data,l(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}}),[s.loggedIn]);var f=function(){var e=Object(m.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.every((function(e){return e.id!==t}))){e.next=15;break}return e.next=3,v.insertCrypto(t);case 3:if(n=e.sent.data,!s.loggedIn){e.next=11;break}return e.next=7,v.getSelectedCoins();case 7:a=e.sent.data,l(a),e.next=13;break;case 11:console.log("user is not logged in"),l([].concat(Object(D.a)(i),[n]));case 13:e.next=16;break;case 15:console.log("this crypto alredy selected");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(m.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.loggedIn){e.next=9;break}return e.next=3,v.removeCrypto(t);case 3:return e.next=5,v.getSelectedCoins();case 5:n=e.sent.data,l(n),e.next=13;break;case 9:a=Object(D.a)(i),r=a.findIndex((function(e){return e.id===t})),a.splice(r,1),l(a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getSearchList(t);case 2:(n=e.sent.data).hasOwnProperty("currencies")&&(n=n.currencies),c(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"SelectCrypto"},r.a.createElement(R,{addCoin:f,searchCoins:g,coins:n}),r.a.createElement(P,{selectedCoins:i,removeCoin:d}))};var J=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(q,null))};n(121);var K=function(e){var t=e.match.params.id,n=Object(a.useState)(void 0),c=Object(p.a)(n,2),o=c[0],i=c[1];Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getSingleCoin(t);case 2:n=e.sent.data,i(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var l=function(e){return e>0?{color:"#2BC36F"}:{color:"#F63B45"}};return r.a.createElement(r.a.Fragment,null,o&&function(){var e=o.name,t=o.rank,n=o.symbol,a=o.quotes,c=o.total_supply,i=a.USD,s=i.price,u=i.volume_24h,m=i.percent_change_24h,p=i.percent_change_30d,f=parseFloat(s).toFixed(2),d=F(parseInt(u)),g=F(parseInt(c));return r.a.createElement("div",{className:"CoinDetails"},r.a.createElement("div",{className:"CoinDetails_text"},r.a.createElement("div",{className:"CoinDetails_name"},r.a.createElement("p",null,e),r.a.createElement("span",null," \u0631\u0646\u06a9 : ",t),r.a.createElement("p",null,n," :\u0646\u0645\u0627\u062f ")),r.a.createElement("div",{className:"CoinDetails_price"},r.a.createElement("span",null,"\u0642\u06cc\u0645\u062a : ",f),r.a.createElement("span",{className:"day_change price_change"},"(24h)\u062a\u063a\u06cc\u06cc\u0631 \u0642\u06cc\u0645\u062a :",r.a.createElement("span",{className:"price_change--num",style:l(m)},m)),r.a.createElement("span",{className:"price_change"},"\u062a\u063a\u06cc\u06cc\u0631 \u0645\u0627\u0647\u0627\u0646\u0647 :",r.a.createElement("span",{className:"price_change--num",style:l(p)},"".concat(p)))),r.a.createElement("div",{className:"CoinDetails_volume"},r.a.createElement("span",null,"$\u062d\u062c\u0645 \u0628\u0627\u0632\u0627\u0631 : "," ".concat(d,"  ")," "),r.a.createElement("span",null,"\u062a\u0639\u062f\u0627\u062f \u062f\u0631 \u06af\u0631\u062f\u0634:","".concat(g)))),r.a.createElement("div",{className:" CoinDetails_tradingview"},r.a.createElement(U.a,{symbol:"COINBASE:".concat(n,"USD"),autosize:!0})))}())};var M=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(K,e))};n(122),n(123);var G=function(){return r.a.createElement(h,null,r.a.createElement($,null,r.a.createElement("div",{className:"App"},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",render:function(){return r.a.createElement(J,null)}}),r.a.createElement(l.a,{exact:!0,path:"/singlecoin/:id",render:function(e){return r.a.createElement(M,e)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},85:function(e,t,n){e.exports=n(124)},90:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.6043d600.chunk.js.map